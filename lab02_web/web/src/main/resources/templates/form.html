<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Form</title>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
    <a class="navbar-brand" href="/">Home</a>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="/books">Books</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="/categories">Category</a>
            </li>
        </ul>
    </div>
</nav>
<br>
<form th:method="POST" th:action="@{'/books/{id}' (id=${book?.getId()})}" class="container">
    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">Book: </label>
        <input class="form-control col-sm-2"
               placeholder="Book's name"
               type="text"
               id="name"
               name="name"
               required
               th:value="${book?.getName()}">
    </div>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Category: </label>
        <select id="category" name="category" class="form-control col-sm-2">
            <option th:each="cat:${categories}" th:text="${cat?.toString()}" th:value="${cat}" th:selected="${cat?.toString()}">[cat.name]</option>
        </select>
    </div>
    <div class="form-group row">
        <label for="aname" class="col-sm-2 col-form-label">Author's name: </label>
        <input class="form-control col-sm-2"
               placeholder="Author's name"
               type="text"
               id="aname"
               name="aname"
               required
               th:value="${book?.author?.name}">
    </div>
    <div class="form-group row">
        <label for="asurname" class="col-sm-2 col-form-label">Author's surname: </label>
        <input class="form-control col-sm-2"
               placeholder="Author's surname"
               type="text"
               id="asurname"
               name="asurname"
               required
               th:value="${book?.author?.surname}">
    </div>

    <div class="form-group row">
        <label for="availableCopies" class="col-sm-2 col-form-label">Available copies: </label>
        <input class="form-control col-sm-2"
               placeholder="Available copies"
               type="text"
               id="availableCopies"
               name="availableCopies"
               required
               th:value="${book?.getAvailableCopies()}">
    </div>
    <button id="submit" type="submit" class="btn btn-primary">Submit</button>
    <br>
    <a id="back" href="/books" type="button" class="btn btn-primary">Back to news</a>

</form>
</body>
</html>